import os

import polib
from django.test import SimpleTestCase
from django.utils.translation import activate
from django.utils.translation import gettext as _


class TestTranslations(SimpleTestCase):
    LOCALE_DIR = os.path.abspath(
        os.path.join(os.path.dirname(__file__), "../rest_framework_simplejwt/locale")
    )
    MESSAGES = {
        "Authorization header must contain two space-delimited values": {
            "fa": "هدر اعتبارسنجی باید شامل دو مقدار جدا شده با فاصله باشد",
            "fa_IR": "هدر اعتبارسنجی باید شامل دو مقدار جدا شده با فاصله باشد",
            "ar": "يجب أن يحتوي رأس التفويض على قيمتين مفصولتين بمسافات",
            "de": "Der Authorizationheader muss zwei leerzeichen-getrennte Werte enthalten",
            "fr": "L'en-tête 'Authorization' doit contenir deux valeurs séparées par des espaces",
            "tr": "Yetkilendirme header'i boşlukla sınırlandırılmış iki değer bulundurmak zorunda",
            "cs": "Autorizační hlavička musí obsahovat dvě hodnoty oddělené mezerou",
            "es": "El encabezado 'Authorization' debe contener valores delimitados por espacios",
            "es_AR": "El header de autorización debe contener dos valores delimitados por espacio",
            "es_CL": "El header de autorización debe contener dos valores delimitados por espacio",
            "it_IT": "L'header di autorizzazione deve contenere due valori delimitati da uno spazio",
            "nl_NL": "Authorisatie header moet twee waarden bevatten, gescheiden door een spatie",
            "pl_PL": "Nagłówek autoryzacji musi zawierać dwie wartości rodzielone spacjami",
            "pt_BR": "Cabeçalho de autorização deve conter dois valores delimitados por espaço",
            "ru_RU": "Заголовок авторизации должен содержать два значения, разделенных пробелом",
            "uk_UA": "Авторизаційний заголовок має містити два значення розділені пробілом",
            "zh_Hans": "授权头必须包含两个用空格分隔的值",
            "ko_KR": "인증 헤더에는 공백으로 구분 된 두 개의 값이 포함되어야 합니다",
            "id_ID": "Header otorisasi harus berisi dua nilai yang dipisahkan spasi",
            "he_IL": "Authorization Header חייבת להכיל שני ערכים מופרדים ברווח",
            "ro": "Header-ul(antetul) de autorizare trebuie să conțină două valori separate prin spațiu",
            "sl": "Glava 'Authorization' mora vsebovati dve vrednosti, ločeni s presledkom",
            "sv": "Auktoriseringshuvudet måste innehålla två mellanslagsavgränsade värden",
        },
        "Given token not valid for any token type": {
            "fa": "توکن داده شده برای هیچ نوع توکنی معتبر نمی‌باشد",
            "fa_IR": "توکن داده شده برای هیچ نوع توکنی معتبر نمی‌باشد",
            "ar": "تأشيرة المرور غير صالحة لأي نوع من أنواع التأشيرات",
            "de": "Der Token ist für keinen Tokentyp gültig",
            "fr": "Le type de jeton fourni n'est pas valide",
            "tr": "Verilen token hiçbir token tipi için geçerli değil",
            "cs": "Daný token není validní pro žádný typ tokenu",
            "es": "El token dado no es valido para ningun tipo de token",
            "es_AR": "El token proporcionado no es válido para ningún tipo.",
            "es_CL": "El token provisto no es válido para ningún tipo de token",
            "it_IT": "Il token dato non è valido per qualsiasi tipo di token",
            "nl_NL": "Het token is voor geen enkel token-type geldig",
            "pl_PL": "Podany token jest błędny dla każdego typu tokena",
            "pt_BR": "O token informado não é válido para qualquer tipo de token",
            "ru_RU": "Данный токен недействителен для любого типа токена",
            "uk_UA": "Наданий токен не відповідає жодному типу ключа",
            "zh_Hans": "此令牌对任何类型的令牌无效",
            "ko_KR": "이 토큰은 모든 타입의 토큰에 대해 유효하지 않습니다",
            "id_ID": "Token yang diberikan tidak valid untuk semua jenis token",
            "he_IL": "המזהה הנתון אינו תקף עבור אף סיווג",
            "ro": "Tokenul dat nu este valid pentru niciun tip de token",
            "sl": "Podan žeton ni veljaven za nobeno vrsto žetona",
            "sv": "Givet token är inte giltigt för någon tokentyp",
        },
        "Token contained no recognizable user identification": {
            "fa": "توکن شامل هیچ شناسه قابل تشخیصی از کاربر نیست",
            "fa_IR": "توکن شامل هیچ شناسه قابل تشخیصی از کاربر نیست",
            "ar": "لا تحتوي تأشيرة المرور على هوية مستخدم يمكن التعرف عليها",
            "de": "Token enthält keine erkennbare Benutzeridentifikation",
            "fr": "Le jeton ne contient aucune information permettant d'identifier l'utilisateur",
            "tr": "Token tanınabilir bir kullanıcı kimliği içermiyor",
            "cs": "Token neobsahoval žádnou rozpoznatelnou identifikaci uživatele",
            "es": "El token no contenía identificación de usuario reconocible",
            "es_AR": "El token no contiene ninguna identificación de usuario válida.",
            "es_CL": "El token no contiene identificación de usuario reconocible",
            "it_IT": "Il token non conteneva nessuna informazione riconoscibile dell'utente",
            "nl_NL": "Token bevat geen herkenbare gebruikersidentificatie",
            "pl_PL": "Token nie zawierał rozpoznawalnej identyfikacji użytkownika",
            "pt_BR": "O token não continha nenhuma identificação reconhecível do usuário",
            "ru_RU": "Токен не содержит идентификатор пользователя",
            "uk_UA": "Наданий токен не мітить жодної ідентифікаційної інформації",
            "zh_Hans": "令牌未包含用户标识符",
            "ko_KR": "토큰에 사용자 식별자가 포함되어 있지 않습니다",
            "id_ID": "Token tidak mengandung identifikasi pengguna yang dapat dikenali",
            "he_IL": "המזהה לא הכיל זיהוי משתמש שניתן לזהות",
            "ro": "Tokenul nu conține date de identificare a utilizatorului",
            "sl": "Žeton ni vseboval prepoznavne identifikacije uporabnika",
            "sv": "Token innehöll ingen identifiering av användaren",
        },
        "User not found": {
            "fa": "کاربر یافت نشد",
            "fa_IR": "کاربر یافت نشد",
            "ar": "لم يتم العثور على المستخدم",
            "de": "Benutzer nicht gefunden",
            "fr": "L'utilisateur n'a pas été trouvé",
            "tr": "Kullanıcı bulunamadı",
            "cs": "Uživatel nenalezen",
            "es": "Usuario no encontrado",
            "es_AR": "No se encontró el usuario.",
            "es_CL": "Usuario no encontrado",
            "it_IT": "Utente non trovato",
            "nl_NL": "Gebruiker niet gevonden",
            "pl_PL": "Użytkownik nie znaleziony",
            "pt_BR": "Usuário não encontrado",
            "ru_RU": "Пользователь не найден",
            "uk_UA": "Користувач не знайдений",
            "zh_Hans": "未找到该用户",
            "ko_KR": "찾을 수 없는 사용자입니다",
            "id_ID": "Pengguna tidak ditemukan",
            "he_IL": "משתמש לא נמצא",
            "ro": "Utilizatorul nu a fost găsit",
            "sl": "Uporabnik ni najden",
            "sv": "Användaren hittades inte",
        },
        "User is inactive": {
            "fa": "کاربر غیرفعال است",
            "fa_IR": "کاربر غیرفعال است",
            "ar": "الحساب غير مفعل",
            "de": "Inaktiver Benutzer",
            "fr": "L'utilisateur est désactivé",
            "tr": "Kullanıcı etkin değil",
            "cs": "Uživatel není aktivní",
            "es": "El usuario está inactivo",
            "es_AR": "El usuario está inactivo",
            "es_CL": "El usuario está inactivo",
            "it_IT": "Utente non attivo",
            "nl_NL": "Gebruiker is inactief",
            "pl_PL": "Użytkownik jest nieaktywny",
            "pt_BR": "Usuário está inativo",
            "ru_RU": "Пользователь неактивен",
            "uk_UA": "Користувач неактивний",
            "zh_Hans": "该用户已禁用",
            "ko_KR": "비활성화된 사용자입니다",
            "id_ID": "Pengguna tidak aktif",
            "he_IL": "המשתמש אינו פעיל",
            "ro": "Utilizatorul este inactiv",
            "sl": "Uporabnik je neaktiven",
            "sv": "Användaren är inaktiv",
        },
        "The user's password has been changed.": {
            "fa": "رمز عبور کاربر تغییر کرده است",
            "fa_IR": "رمز عبور کاربر تغییر کرده است",
            "ar": "The user's password has been changed.",
            "de": "The user's password has been changed.",
            "fr": "The user's password has been changed.",
            "tr": "The user's password has been changed.",
            "cs": "The user's password has been changed.",
            "es": "The user's password has been changed.",
            "es_AR": "La contraseña del usuario ha sido cambiada.",
            "es_CL": "The user's password has been changed.",
            "it_IT": "The user's password has been changed.",
            "nl_NL": "The user's password has been changed.",
            "pl_PL": "The user's password has been changed.",
            "pt_BR": "A senha do usuário foi alterada.",
            "ru_RU": "The user's password has been changed.",
            "uk_UA": "The user's password has been changed.",
            "zh_Hans": "The user's password has been changed.",
            "ko_KR": "사용자의 비밀번호가 바뀌었습니다.",
            "id_ID": "The user's password has been changed.",
            "he_IL": "The user's password has been changed.",
            "ro": "The user's password has been changed.",
            "sl": "The user's password has been changed.",
            "sv": "The user's password has been changed.",
        },
        "Token is invalid": {
            "fa": "توکن نامعتبر است",
            "fa_IR": "توکن نامعتبر است",
            "ar": "Token is invalid",
            "de": "Token is invalid",
            "fr": "Token is invalid",
            "tr": "Token is invalid",
            "cs": "Token is invalid",
            "es": "Token is invalid",
            "es_AR": "Token is invalid",
            "es_CL": "Token is invalid",
            "it_IT": "Token is invalid",
            "nl_NL": "Token is invalid",
            "pl_PL": "Token is invalid",
            "pt_BR": "O token é inválido",
            "ru_RU": "Token is invalid",
            "uk_UA": "Token is invalid",
            "zh_Hans": "Token is invalid",
            "ko_KR": "Token is invalid",
            "id_ID": "Token is invalid",
            "he_IL": "Token is invalid",
            "ro": "Token is invalid",
            "sl": "Token is invalid",
            "sv": "Token is invalid",
        },
        "Token is expired": {
            "fa": "توکن منقضی شده است",
            "fa_IR": "توکن منقضی شده است",
            "ar": "Token is expired",
            "de": "Token is expired",
            "fr": "Token is expired",
            "tr": "Token is expired",
            "cs": "Token is expired",
            "es": "Token is expired",
            "es_AR": "Token is expired",
            "es_CL": "Token is expired",
            "it_IT": "Token is expired",
            "nl_NL": "Token is expired",
            "pl_PL": "Token is expired",
            "pt_BR": "O token está expirado",
            "ru_RU": "Token is expired",
            "uk_UA": "Token is expired",
            "zh_Hans": "Token is expired",
            "ko_KR": "Token is expired",
            "id_ID": "Token is expired",
            "he_IL": "Token is expired",
            "ro": "Token is expired",
            "sl": "Token is expired",
            "sv": "Token is expired",
        },
        "Token is invalid or expired": {
            "fa": "توکن نامعتبر است یا منقضی شده است",
            "fa_IR": "توکن نامعتبر است یا منقضی شده است",
            "ar": "تأشيرة المرور غير صالحة أو منتهية الصلاحية",
            "de": "Ungültiger oder abgelaufener Token",
            "fr": "Le jeton est invalide ou expiré",
            "tr": "Token geçersiz veya süresi geçmiş",
            "cs": "Token není validní nebo vypršela jeho platnost",
            "es": "El token es inválido o ha expirado",
            "es_AR": "El token es inválido o ha expirado",
            "es_CL": "Token inválido o expirado",
            "it_IT": "Il token non è valido o è scaduto",
            "nl_NL": "Token is niet geldig of verlopen",
            "pl_PL": "Token jest niepoprawny lub wygasł",
            "pt_BR": "O token é inválido ou expirado",
            "ru_RU": "Токен недействителен или просрочен",
            "uk_UA": "Токен некоректний або термін його дії вичерпаний",
            "zh_Hans": "令牌无效或已过期",
            "ko_KR": "유효하지 않거나 만료된 토큰입니다",
            "id_ID": "Token tidak valid atau kedaluwarsa",
            "he_IL": "המזהה אינו חוקי או שפג תוקפו",
            "ro": "Token nu este valid sau a expirat",
            "sl": "Žeton je neveljaven ali potekel",
            "sv": "Token är ogiltig eller har löpt ut",
        },
        "No active account found with the given credentials": {
            "fa": "هیچ اکانت فعالی برای اطلاعات داده شده یافت نشد",
            "fa_IR": "هیچ اکانت فعالی برای اطلاعات داده شده یافت نشد",
            "ar": "لم يتم العثور على حساب نشط للبيانات المقدمة",
            "de": "Kein aktiver Account mit diesen Zugangsdaten gefunden",
            "fr": "Aucun compte actif n'a été trouvé avec les identifiants fournis",
            "tr": "Verilen kimlik bilgileriyle aktif bir hesap bulunamadı",
            "cs": "Žádný aktivní účet s danými údaji nebyl nalezen",
            "es": "La combinación de credenciales no tiene una cuenta activa",
            "es_AR": "No se encontró una cuenta activa con las credenciales proporcionadas.",
            "es_CL": "No se encontró una cuenta de usuario activa para las credenciales provistas",
            "it_IT": "Nessun account attivo trovato con queste credenziali",
            "nl_NL": "Geen actief account gevonden voor deze gegevens",
            "pl_PL": "Nie znaleziono aktywnego konta dla podanych danych uwierzytelniających",
            "pt_BR": "Usuário e/ou senha incorreto(s)",
            "ru_RU": "Не найдено активной учетной записи с указанными данными",
            "uk_UA": "Не знайдено жодного облікового запису по наданих облікових даних",
            "zh_Hans": "找不到指定凭据对应的有效用户",
            "ko_KR": "지정된 자격 증명에 해당하는 활성화된 사용자를 찾을 수 없습니다",
            "id_ID": "Tidak ada akun aktif yang ditemukan dengan kredensial yang diberikan",
            "he_IL": "לא נמצא חשבון עם פרטי זיהוי אלו",
            "ro": "Nu a fost găsit cont activ cu aceste date de autentificare",
            "sl": "Aktiven račun s podanimi poverilnicami ni najden",
            "sv": "Inget aktivt konto hittades med de angivna användaruppgifterna",
        },
        "No active account found for the given token.": {
            "fa": "هیچ اکانت فعالی برای این توکن یافت نشد",
            "fa_IR": "هیچ اکانت فعالی برای این توکن یافت نشد",
            "ar": "No active account found for the given token.",
            "de": "No active account found for the given token.",
            "fr": "No active account found for the given token.",
            "tr": "No active account found for the given token.",
            "cs": "No active account found for the given token.",
            "es": "No active account found for the given token.",
            "es_AR": "No active account found for the given token.",
            "es_CL": "No active account found for the given token.",
            "it_IT": "No active account found for the given token.",
            "nl_NL": "No active account found for the given token.",
            "pl_PL": "No active account found for the given token.",
            "pt_BR": "Nenhuma conta ativa encontrada para o token fornecido.",
            "ru_RU": "No active account found for the given token.",
            "uk_UA": "No active account found for the given token.",
            "zh_Hans": "No active account found for the given token.",
            "ko_KR": "No active account found for the given token.",
            "id_ID": "No active account found for the given token.",
            "he_IL": "No active account found for the given token.",
            "ro": "No active account found for the given token.",
            "sl": "No active account found for the given token.",
            "sv": "No active account found for the given token.",
        },
        "Token is blacklisted": {
            "fa": "توکن در لیست سیاه قرار گرفته است",
            "fa_IR": "توکن در لیست سیاه قرار گرفته است",
            "ar": "التأشيرة مدرجة في القائمة السوداء",
            "de": "Token steht auf der Blacklist",
            "fr": "Le jeton a été banni",
            "tr": "Token kara listeye alınmış",
            "cs": "Token je na černé listině",
            "es": "El token está en lista negra",
            "es_AR": "El token ha sido revocado",
            "es_CL": "Token está en la blacklist",
            "it_IT": "Il token è stato inserito nella blacklist",
            "nl_NL": "Token is ge-blacklist",
            "pl_PL": "Token znajduję się na czarnej liście",
            "pt_BR": "Token está na blacklist",
            "ru_RU": "Токен занесен в черный список",
            "uk_UA": "Токен занесений у чорний список",
            "zh_Hans": "令牌已被加入黑名单",
            "ko_KR": "블랙리스트에 추가된 토큰입니다",
            "id_ID": "Token masuk daftar hitam",
            "he_IL": "המזהה ברשימה השחורה.",
            "ro": "Tokenul este în listă de tokenuri blocate",
            "sl": "Žeton je na črnem seznamu",
            "sv": "Token är svartlistad",
        },
        "The '{}' setting has been removed. Please refer to '{}' for available settings.": {
            "fa": "تنظیمات '{}' حذف شده است. لطفا به '{}' برای تنظیمات موجود مراجعه کنید.",
            "fa_IR": "تنظیمات '{}' حذف شده است. لطفا به '{}' برای تنظیمات موجود مراجعه کنید.",
            "ar": "تمت إزالة الإعداد '{}'. يرجى الرجوع إلى '{}' للتعرف على الإعدادات المتاحة.",
            "de": "Die Einstellung '{}' wurde gelöscht. Bitte beachte '{}' für verfügbare Einstellungen.",
            "fr": "Le paramètre '{}' a été supprimé. Voir '{}' pour la liste des paramètres disponibles.",
            "tr": "'{}' ayarı kaldırıldı. Mevcut ayarlar için '{}' adresini ziyaret edin.",
            "cs": "Nastavení '{}' bylo odstraněno. Dostupná nastavení jsou v '{}'",
            "es": "La configuración '{}' fue removida. Por favor, refiérase a '{}' para consultar las disponibles.",
            "es_AR": "La configuración '{}' fue removida. Por favor, refiérase a '{}' para consultar las configuraciones disponibles.",
            "es_CL": "La configuración '{}' fue removida. Por favor, refiérase a '{}' para configuraciones disponibles.",
            "it_IT": "L'impostazione '{}' è stata rimossa. Per favore utilizza '{}' per visualizzare le impostazioni valide.",
            "nl_NL": "De '{}' instelling bestaat niet meer. Zie '{}' for beschikbareinstellingen.",
            "pl_PL": "Ustawienie '{}' zostało usunięte. Dostępne ustawienia znajdują sie w '{}'",
            "pt_BR": "A configuração '{}' foi removida. Por favor, consulte '{}' para disponível definições.",
            "ru_RU": "Параметр '{}' был удален. Пожалуйста, обратитесь к '{}' для просмотра доступных настроек.",
            "uk_UA": "Налаштування '{}' видалене. Подивіться у '{}' для інших доступних",
            "zh_Hans": "'{}' 配置已被移除。 请参阅 '{}' 获取可用的配置。",
            "ko_KR": "'{}' 설정이 제거되었습니다. 사용 가능한 설정은 '{}'을 참조하십시오.",
            "id_ID": "Setelan '{}' telah dihapus. Silakan merujuk ke '{}' untuk pengaturan yang tersedia.",
            "he_IL": "ההגדרה '{}' הוסרה. בבקשה קראו כאן: '{}' בשביל לראות הגדרות אפשרויות",
            "ro": "Setarea '{}' a fost ștearsă. Referați la '{}' pentru setări disponibile.",
            "sl": "Nastavitev '{}' je bila odstranjena. Prosimo, oglejte si '{}' za razpoložljive nastavitve.",
            "sv": "Inställningen '{}' har tagits bort. Se '{}' för tillgängliga inställningar",
        },
        "jti": {
            "fa": "شناسه توکن (jti)",
            "fa_IR": "شناسه توکن (jti)",
            "ar": "jti",
            "de": "jti",
            "fr": "jti",
            "tr": "jti",
            "cs": "jti",
            "es": "jti",
            "es_AR": "jti",
            "es_CL": "jti",
            "it_IT": "jti",
            "nl_NL": "jti",
            "pl_PL": "jti",
            "pt_BR": "jti",
            "ru_RU": "jti",
            "uk_UA": "jti",
            "zh_Hans": "jti",
            "ko_KR": "jti",
            "id_ID": "jti",
            "he_IL": "jti",
            "ro": "jti",
            "sl": "jti",
            "sv": "jti",
        },
        "user": {
            "fa": "کاربر",
            "fa_IR": "کاربر",
            "ar": "مستخدم",
            "de": "Benutzer",
            "fr": "utilisateur",
            "tr": "kullanıcı",
            "cs": "uživatel",
            "es": "usuario",
            "es_AR": "usuario",
            "es_CL": "usuario",
            "it_IT": "utente",
            "nl_NL": "gebruiker",
            "pl_PL": "użytkownik",
            "pt_BR": "usuário",
            "ru_RU": "пользователь",
            "uk_UA": "користувач",
            "zh_Hans": "用户",
            "ko_KR": "사용자",
            "id_ID": "pengguna",
            "he_IL": "משתמש",
            "ro": "utilizator",
            "sl": "uporabnik",
            "sv": "användare",
        },
        "created at": {
            "fa": "زمان ایجاد",
            "fa_IR": "زمان ایجاد",
            "ar": "أنشئت في",
            "de": "erstellt am",
            "fr": "Créé le",
            "tr": "oluşturulma tarihi",
            "cs": "vytvořený v",
            "es": "creado en",
            "es_AR": "creado en",
            "es_CL": "creado en",
            "it_IT": "creato il",
            "nl_NL": "aangemaakt op",
            "pl_PL": "stworzony w",
            "pt_BR": "criado em",
            "ru_RU": "создан",
            "uk_UA": "створений о",
            "zh_Hans": "创建时间",
            "ko_KR": "생성 시간",
            "id_ID": "created at",
            "he_IL": "נוצר בשעה",
            "ro": "creat la",
            "sl": "ustvarjen ob",
            "sv": "skapad vid",
        },
        "expires at": {
            "fa": "زمان انقضا",
            "fa_IR": "زمان انقضا",
            "ar": "تنتهي في",
            "de": "läuft ab am",
            "fr": "Expire le",
            "tr": "sona erme tarihi",
            "cs": "platí do",
            "es": "expira en",
            "es_AR": "expira en",
            "es_CL": "expira en",
            "it_IT": "scade il",
            "nl_NL": "verloopt op",
            "pl_PL": "wygasa o",
            "pt_BR": "expira em",
            "ru_RU": "истекает",
            "uk_UA": "дійстний по",
            "zh_Hans": "过期时间",
            "ko_KR": "만료 시간",
            "id_ID": "kedaluwarsa pada",
            "he_IL": "פג תוקף בשעה",
            "ro": "expiră la",
            "sl": "poteče ob",
            "sv": "går ut kl",
        },
        "Outstanding Tokens": {
            "fa": "توکن‌های برجسته",
            "fa_IR": "توکن‌های برجسته",
            "ar": "Outstanding Tokens",
            "de": "Outstanding Tokens",
            "fr": "Outstanding Tokens",
            "tr": "Outstanding Tokens",
            "cs": "Outstanding Tokens",
            "es": "Outstanding Tokens",
            "es_AR": "Outstanding Tokens",
            "es_CL": "Outstanding Tokens",
            "it_IT": "Outstanding Tokens",
            "nl_NL": "Outstanding Tokens",
            "pl_PL": "Outstanding Tokens",
            "pt_BR": "Tokens pendentes",
            "ru_RU": "Outstanding Tokens",
            "uk_UA": "Outstanding Tokens",
            "zh_Hans": "Outstanding Tokens",
            "ko_KR": "Outstanding Tokens",
            "id_ID": "Outstanding Tokens",
            "he_IL": "Outstanding Tokens",
            "ro": "Outstanding Tokens",
            "sl": "Outstanding Tokens",
            "sv": "Outstanding Tokens",
        },
        "Cannot create token with no type or lifetime": {
            "fa": "توکن بدون نوع یا طول عمر قابل ایجاد نیست",
            "fa_IR": "توکن بدون نوع یا طول عمر قابل ایجاد نیست",
            "ar": "لا يمكن إنشاء تأشيرة مرور بدون نوع أو عمر",
            "de": "Ein Token ohne Typ oder Lebensdauer kann nicht erstellt werden",
            "fr": "Ne peut pas créer de jeton sans type ni durée de vie",
            "tr": "Tipi veya geçerlilik süresi olmayan token oluşturulamaz",
            "cs": "Nelze vytvořit token bez zadaného typu nebo životnosti",
            "es": "No se puede crear un token sin tipo o de tan larga vida",
            "es_AR": "No es posible crear un token sin tipo o tiempo de vida",
            "es_CL": "No es posible crear un token sin tipo o tiempo de vida",
            "it_IT": "Impossibile creare un token senza tipo o durata",
            "nl_NL": "Kan geen token maken zonder type of levensduur",
            "pl_PL": "Nie można utworzyć tokena bez podanego typu lub żywotności",
            "pt_BR": "Não é possível criar token sem tipo ou tempo de vida",
            "ru_RU": "Невозможно создать токен без типа или времени жизни",
            "uk_UA": "Неможливо створити токен без типу або строку дії",
            "zh_Hans": "无法创建没有类型或生存期的令牌",
            "ko_KR": "타입 또는 수명이 없는 토큰을 생성할 수 없습니다",
            "id_ID": "Tidak dapat membuat token tanpa tipe atau masa pakai",
            "he_IL": "לא ניתן ליצור מזהה ללא סוג או אורך חיים",
            "ro": "Nu se poate crea token fără tip sau durată de viață",
            "sl": "Ni mogoče ustvariti žetona brez vrste ali življenjske dobe",
            "sv": "Kan inte skapa token utan typ eller livslängd",
        },
        "Token has no id": {
            "fa": "توکن id ندارد",
            "fa_IR": "توکن id ندارد",
            "ar": "التأشيرة ليس لها معرف",
            "de": "Token hat keine Id",
            "fr": "Le jeton n'a pas d'id",
            "tr": "Token'in id'si yok",
            "cs": "Token nemá žádný identifikátor",
            "es": "El token no tiene id",
            "es_AR": "El token no tiene id",
            "es_CL": "Token no tiene id",
            "it_IT": "Il token non ha un id",
            "nl_NL": "Token heeft geen id",
            "pl_PL": "Token nie posiada numeru identyfikacyjnego",
            "pt_BR": "Token não tem id",
            "ru_RU": "У токена нет идентификатора",
            "uk_UA": "У ключі доступу не міститься id",
            "zh_Hans": "令牌没有标识符",
            "ko_KR": "토큰에 식별자가 주어지지 않았습니다",
            "id_ID": "Token tidak memiliki id",
            "he_IL": "למזהה אין מספר זיהוי",
            "ro": "Tokenul nu are id",
            "sl": "Žetonu manjka id",
            "sv": "Token har inget id",
        },
        "Token has no type": {
            "fa": "توکن نوعی ندارد",
            "fa_IR": "توکن نوعی ندارد",
            "ar": "التأشيرة ليس لها نوع",
            "de": "Token hat keinen Typ",
            "fr": "Le jeton n'a pas de type",
            "tr": "Token'in tipi yok",
            "cs": "Token nemá žádný typ",
            "es": "El token no tiene tipo",
            "es_AR": "El token no tiene tipo",
            "es_CL": "Token no tiene tipo",
            "it_IT": "Il token non ha un tipo",
            "nl_NL": "Token heeft geen type",
            "pl_PL": "Token nie posiada typu",
            "pt_BR": "Token não tem nenhum tipo",
            "ru_RU": "Токен не имеет типа",
            "uk_UA": "У ключі доступу не міститься тип",
            "zh_Hans": "令牌没有类型",
            "ko_KR": "토큰 타입이 주어지지 않았습니다",
            "id_ID": "Token tidak memiliki tipe",
            "he_IL": "למזהה אין סוג",
            "ro": "Tokenul nu are tip",
            "sl": "Žetonu manjka vrsta",
            "sv": "Token har ingen typ",
        },
        "Token has wrong type": {
            "fa": "توکن دارای نوع نادرستی است",
            "fa_IR": "توکن دارای نوع نادرستی است",
            "ar": "التأشيرة لها نوع خاطئ",
            "de": "Token hat den falschen Typ",
            "fr": "Le jeton a un type erroné",
            "tr": "Token'in tipi yanlış",
            "cs": "Token má špatný typ",
            "es": "El token tiene un tipo incorrecto",
            "es_AR": "El token tiene un tipo incorrecto",
            "es_CL": "Token tiene tipo erróneo",
            "it_IT": "Il token ha un tipo sbagliato",
            "nl_NL": "Token heeft het verkeerde type",
            "pl_PL": "Token posiada zły typ",
            "pt_BR": "Token tem tipo errado",
            "ru_RU": "Токен имеет неправильный тип",
            "uk_UA": "токен позначений невірним типом",
            "zh_Hans": "令牌类型错误",
            "ko_KR": "잘못된 토큰 타입입니다",
            "id_ID": "Jenis token salah",
            "he_IL": "למזהה יש סוג לא נכון",
            "ro": "Tokenul are tipul greșit",
            "sl": "Žeton je napačne vrste",
            "sv": "Token har fel typ",
        },
        "Token has no '{}' claim": {
            "fa": "توکن دارای '{}' claim نمی‌باشد",
            "fa_IR": "توکن دارای '{}' claim نمی‌باشد",
            "ar": "التأشيرة ليس لديها مطالبة '{}'",
            "de": "Token hat kein '{}' Recht",
            "fr": "Le jeton n'a pas le privilège '{}'",
            "tr": "Token'in '{}' claim'i yok",
            "cs": "Token nemá žádnou hodnotu '{}'",
            "es": "El token no tiene el privilegio '{}'",
            "es_AR": "El token no tiene el privilegio '{}'",
            "es_CL": "Token no tiene privilegio '{}'",
            "it_IT": "Il token non contiene il parametro '{}'",
            "nl_NL": "Token heeft geen '{}' recht",
            "pl_PL": "Token nie posiada upoważnienia '{}'",
            "pt_BR": "Token não tem '{}' privilégio",
            "ru_RU": "Токен не содержит '{}'",
            "uk_UA": "У токені не міститься '{}' заголовку",
            "zh_Hans": "令牌没有 '{}' 声明",
            "ko_KR": "토큰에 '{}' 클레임이 없습니다",
            "id_ID": "Token tidak memiliki klaim '{}'",
            "he_IL": "למזהה אין '{}'",
            "ro": "Tokenul nu are reclamația '{}'",
            "sl": "Žeton nima '{}' zahtevka",
            "sv": "Token har inget '{}'-anspråk",
        },
        "Token '{}' claim has expired": {
            "fa": "'{}' claim توکن منقضی شده",
            "fa_IR": "'{}' claim توکن منقضی شده",
            "ar": "انتهى عمر المطالبة بالتأشيرة '{}'",
            "de": "Das Tokenrecht '{}' ist abgelaufen",
            "fr": "Le privilège '{}' du jeton a expiré",
            "tr": "Token'in '{}' claim'i sona erdi",
            "cs": "Hodnota tokenu '{}' vypršela",
            "es": "El privilegio '{}' del token ha expirado",
            "es_AR": "El privilegio '{}' del token ha expirado",
            "es_CL": "El provilegio '{}' del token está expirado",
            "it_IT": "Il parametro '{}' del token è scaduto",
            "nl_NL": "Token '{}' recht is verlopen",
            "pl_PL": "Upoważnienie tokena '{}' wygasło",
            "pt_BR": "O privilégio '{}' do token expirou",
            "ru_RU": "Токен имеет просроченное значение '{}'",
            "uk_UA": "Заголовок '{}' токена не дійсний",
            "zh_Hans": "令牌 '{}' 声明已过期",
            "ko_KR": "토큰 '{}' 클레임이 만료되었습니다",
            "id_ID": "Klaim token '{}' telah kedaluwarsa",
            "he_IL": "מזהה '{}' פג תוקף",
            "ro": "Reclamația tokenului '{}' a expirat",
            "sl": "'{}' zahtevek žetona je potekel",
            "sv": "Token '{}'-anspråket har löpt ut",
        },
        "Token Blacklist": {
            "fa": "لیست سیاه توکن",
            "fa_IR": "لیست سیاه توکن",
            "ar": "قائمة تأشيرات المرور السوداء",
            "de": "Token Blacklist",
            "fr": "Liste des jetons bannis",
            "tr": "Token Kara Listesi",
            "cs": "Token Blacklist",
            "es": "Lista negra de Tokens",
            "es_AR": "Lista negra de Tokens",
            "es_CL": "Token Blacklist",
            "it_IT": "Blacklist dei token",
            "nl_NL": "Token Blacklist",
            "pl_PL": "Token Blacklist",
            "pt_BR": "Lista negra de Tokens",
            "ru_RU": "Token Blacklist",
            "uk_UA": "Чорний список токенів",
            "zh_Hans": "令牌黑名单",
            "ko_KR": "토큰 블랙리스트",
            "id_ID": "Daftar Hitam Token",
            "he_IL": "רשימה שחורה של מזהים",
            "ro": "Listă de token-uri blocate",
            "sl": "Črni seznam žetonov",
            "sv": "Token svartlist",
        },
        "Outstanding Token": {
            "fa": "توکن برجسته",
            "fa_IR": "توکن برجسته",
            "ar": "Outstanding Token",
            "de": "Outstanding Token",
            "fr": "Outstanding Token",
            "tr": "Outstanding Token",
            "cs": "Outstanding Token",
            "es": "Outstanding Token",
            "es_AR": "Outstanding Token",
            "es_CL": "Outstanding Token",
            "it_IT": "Outstanding Token",
            "nl_NL": "Outstanding Token",
            "pl_PL": "Outstanding Token",
            "pt_BR": "Token pendente",
            "ru_RU": "Outstanding Token",
            "uk_UA": "Outstanding Token",
            "zh_Hans": "Outstanding Token",
            "ko_KR": "Outstanding Token",
            "id_ID": "Outstanding Token",
            "he_IL": "Outstanding Token",
            "ro": "Outstanding Token",
            "sl": "Outstanding Token",
            "sv": "Outstanding Token",
        },
        "Token for %(user)s (%(jti)s)": {
            "fa": "توکن برای %(user)s (%(jti)s)",
            "fa_IR": "توکن برای %(user)s (%(jti)s)",
            "ar": "Token for %(user)s (%(jti)s)",
            "de": "Token for %(user)s (%(jti)s)",
            "fr": "Token for %(user)s (%(jti)s)",
            "tr": "Token for %(user)s (%(jti)s)",
            "cs": "Token for %(user)s (%(jti)s)",
            "es": "Token for %(user)s (%(jti)s)",
            "es_AR": "Token for %(user)s (%(jti)s)",
            "es_CL": "Token for %(user)s (%(jti)s)",
            "it_IT": "Token for %(user)s (%(jti)s)",
            "nl_NL": "Token for %(user)s (%(jti)s)",
            "pl_PL": "Token for %(user)s (%(jti)s)",
            "pt_BR": "Token para %(user)s (%(jti)s)",
            "ru_RU": "Token for %(user)s (%(jti)s)",
            "uk_UA": "Token for %(user)s (%(jti)s)",
            "zh_Hans": "Token for %(user)s (%(jti)s)",
            "ko_KR": "Token for %(user)s (%(jti)s)",
            "id_ID": "Token for %(user)s (%(jti)s)",
            "he_IL": "Token for %(user)s (%(jti)s)",
            "ro": "Token for %(user)s (%(jti)s)",
            "sl": "Token for %(user)s (%(jti)s)",
            "sv": "Token for %(user)s (%(jti)s)",
        },
        "Blacklisted Token": {
            "fa": "توکن در لیست سیاه",
            "fa_IR": "توکن در لیست سیاه",
            "ar": "Blacklisted Token",
            "de": "Blacklisted Token",
            "fr": "Blacklisted Token",
            "tr": "Blacklisted Token",
            "cs": "Blacklisted Token",
            "es": "Blacklisted Token",
            "es_AR": "Blacklisted Token",
            "es_CL": "Blacklisted Token",
            "it_IT": "Blacklisted Token",
            "nl_NL": "Blacklisted Token",
            "pl_PL": "Blacklisted Token",
            "pt_BR": "Token na lista negra",
            "ru_RU": "Blacklisted Token",
            "uk_UA": "Blacklisted Token",
            "zh_Hans": "Blacklisted Token",
            "ko_KR": "Blacklisted Token",
            "id_ID": "Blacklisted Token",
            "he_IL": "Blacklisted Token",
            "ro": "Blacklisted Token",
            "sl": "Blacklisted Token",
            "sv": "Blacklisted Token",
        },
        "Blacklisted Tokens": {
            "fa": "توکن‌های لیست سیاه",
            "fa_IR": "توکن‌های لیست سیاه",
            "ar": "Blacklisted Tokens",
            "de": "Blacklisted Tokens",
            "fr": "Blacklisted Tokens",
            "tr": "Blacklisted Tokens",
            "cs": "Blacklisted Tokens",
            "es": "Blacklisted Tokens",
            "es_AR": "Blacklisted Tokens",
            "es_CL": "Blacklisted Tokens",
            "it_IT": "Blacklisted Tokens",
            "nl_NL": "Blacklisted Tokens",
            "pl_PL": "Blacklisted Tokens",
            "pt_BR": "Tokens na lista negra",
            "ru_RU": "Blacklisted Tokens",
            "uk_UA": "Blacklisted Tokens",
            "zh_Hans": "Blacklisted Tokens",
            "ko_KR": "Blacklisted Tokens",
            "id_ID": "Blacklisted Tokens",
            "he_IL": "Blacklisted Tokens",
            "ro": "Blacklisted Tokens",
            "sl": "Blacklisted Tokens",
            "sv": "Blacklisted Tokens",
        },
        "Blacklisted token for %(user)s": {
            "fa": "توکن لیست سیاه برای %(user)s",
            "fa_IR": "توکن لیست سیاه برای %(user)s",
            "ar": "Blacklisted token for %(user)s",
            "de": "Blacklisted token for %(user)s",
            "fr": "Blacklisted token for %(user)s",
            "tr": "Blacklisted token for %(user)s",
            "cs": "Blacklisted token for %(user)s",
            "es": "Blacklisted token for %(user)s",
            "es_AR": "Blacklisted token for %(user)s",
            "es_CL": "Blacklisted token for %(user)s",
            "it_IT": "Blacklisted token for %(user)s",
            "nl_NL": "Blacklisted token for %(user)s",
            "pl_PL": "Blacklisted token for %(user)s",
            "pt_BR": "Token na lista negra para %(user)s",
            "ru_RU": "Blacklisted token for %(user)s",
            "uk_UA": "Blacklisted token for %(user)s",
            "zh_Hans": "Blacklisted token for %(user)s",
            "ko_KR": "Blacklisted token for %(user)s",
            "id_ID": "Blacklisted token for %(user)s",
            "he_IL": "Blacklisted token for %(user)s",
            "ro": "Blacklisted token for %(user)s",
            "sl": "Blacklisted token for %(user)s",
            "sv": "Blacklisted token for %(user)s",
        },
        "Invalid algorithm specified": {
            "fa": "الگوریتم نامعتبر مشخص شده است",
            "fa_IR": "الگوریتم نامعتبر مشخص شده است",
            "ar": "تم تحديد خوارزمية غير صالحة",
            "de": "Invalid algorithm specified",
            "fr": "L'algorithme spécifié est invalide",
            "tr": "Geçersiz algoritma belirtildi",
            "cs": "Invalid algorithm specified",
            "es": "Algoritmo especificado no válido",
            "es_AR": "Se especificó un algoritmo no válido.",
            "es_CL": "Algoritmo especificado no válido",
            "it_IT": "L'algoritmo specificato non è valido",
            "nl_NL": "Invalid algorithm specified",
            "pl_PL": "Invalid algorithm specified",
            "pt_BR": "Algoritmo inválido especificado",
            "ru_RU": "Invalid algorithm specified",
            "uk_UA": "Вказаний невірний алгоритм",
            "zh_Hans": "指定的算法无效",
            "ko_KR": "잘못된 알고리즘이 지정되었습니다",
            "id_ID": "Algoritma yang ditentukan tidak valid",
            "he_IL": "צוין אלגוריתם לא חוקי",
            "ro": "Algoritm nevalid specificat",
            "sl": "Naveden algoritem je neveljaven",
            "sv": "Ogiltig algoritm har angetts",
        },
        "You must have cryptography installed to use {}.": {
            "fa": "برای استفاده از {} باید رمزنگاری را نصب کرده باشید.",
            "fa_IR": "برای استفاده از {} باید رمزنگاری را نصب کرده باشید.",
            "ar": "يجب أن يكون لديك تشفير مثبت لاستخدام {}.",
            "de": "You must have cryptography installed to use {}.",
            "fr": "Vous devez installer cryptography afin d'utiliser {}.",
            "tr": "{} kullanmak için cryptography yüklemeniz gerekiyor.",
            "cs": "You must have cryptography installed to use {}.",
            "es": "Debe tener criptografía instalada para usar {}.",
            "es_AR": "Debe tener criptografía instalada para usar {}.",
            "es_CL": "Debe tener criptografía instalada para usar {}.",
            "it_IT": "Devi avere installato cryptography per usare '{}'.",
            "nl_NL": "You must have cryptography installed to use {}.",
            "pl_PL": "You must have cryptography installed to use {}.",
            "pt_BR": "Você deve ter criptografia instalada para usar {}.",
            "ru_RU": "You must have cryptography installed to use {}.",
            "uk_UA": "Встановіть модуль cryptography щоб використовувати {}",
            "zh_Hans": "你必须安装 cryptography 才能使用 {}。",
            "ko_KR": "{}를 사용하려면 암호화가 설치되어 있어야 합니다.",
            "id_ID": "Anda harus memasang cryptography untuk menggunakan {}.",
            "he_IL": "עליך להתקין קריפטוגרפיה כדי להשתמש ב-{}.",
            "ro": "Trebuie să aveți instalată criptografia pentru a utiliza {}.",
            "sl": "Za uporabo '{}' je potrebna namestitev 'cryptography'.",
            "sv": "Du måste ha kryptografi installerad för att kunna använda {}.",
        },
        "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.": {
            "fa": "نوع ناشناخته '{}'، 'leeway' باید از نوع int، float یا timedelta باشد.",
            "fa_IR": "نوع ناشناخته '{}'، 'leeway' باید از نوع int، float یا timedelta باشد.",
            "ar": "نوع غير معروف '{}'. يجب أن تكون 'leeway' عددًا صحيحًا أو عددًا نسبيًا أو فرق وقت.",
            "de": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "fr": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "tr": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "cs": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "es": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "es_AR": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "es_CL": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "it_IT": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "nl_NL": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "pl_PL": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "pt_BR": "Tipo '{}' não reconhecido, 'leeway' deve ser do tipo int, float ou timedelta.",
            "ru_RU": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "uk_UA": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "zh_Hans": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
            "ko_KR": "알 수 없는 타입 '{}', 'leeway' 값은 반드시 int, float 또는 timedelta 타입이어야 합니다.",
            "id_ID": "Tipe '{}' tidak dikenali, 'leeway' harus bertipe int, float, atau timedelta.",
            "he_IL": "סוג לא מזוהה '{}', 'leeway' חייב להיות מסוג int, float או timedelta.",
            "ro": "Tipul '{}' nu este recunoscut, 'leeway' trebuie să fie de tip int, float sau timedelta.",
            "sl": "Neprepoznana vrsta '{}', 'leeway' mora biti vrste int, float ali timedelta.",
            "sv": "Unrecognized type '{}', 'leeway' must be of type int, float or timedelta.",
        },
        "Unrecognized algorithm type '{}'": {
            "fa": "نوع الگوریتم ناشناخته '{}'",
            "fa_IR": "نوع الگوریتم ناشناخته '{}'",
            "ar": "نوع الخوارزمية غير معروف '{}'",
            "de": "Unerkannter Algorithmustyp '{}'",
            "fr": "Type d'algorithme non reconnu '{}'",
            "tr": "Tanınmayan algortima tipi '{}'",
            "cs": "Nerozpoznaný typ algoritmu '{}'",
            "es": "Tipo de algoritmo no reconocido '{}'",
            "es_AR": "Tipo de algoritmo no reconocido '{}'",
            "es_CL": "Tipo de algoritmo no reconocido '{}'",
            "it_IT": "Algoritmo di tipo '{}' non riconosciuto",
            "nl_NL": "Niet herkend algoritme type '{}'",
            "pl_PL": "Nierozpoznany typ algorytmu '{}'",
            "pt_BR": "Tipo de algoritmo '{}' não reconhecido",
            "ru_RU": "Нераспознанный тип алгоритма '{}'",
            "uk_UA": "Тип алгоритму '{}' не розпізнаний",
            "zh_Hans": "未知算法类型 '{}'",
            "ko_KR": "'{}' 는 알 수 없는 알고리즘 유형입니다",
            "id_ID": "Jenis algoritma tidak dikenal '{}'",
            "he_IL": "סוג אלגוריתם לא מזוהה '{}'",
            "ro": "Tipul de algoritm '{}' nu este recunoscut",
            "sl": "Neprepoznana vrsta algoritma'{}'",
            "sv": "Okänd algoritmtyp '{}'",
        },
    }
    LANGUAGES = {
        "fa",
        "fa_IR",
        "ar",
        "de",
        "fr",
        "tr",
        "cs",
        "es",
        "es_AR",
        "es_CL",
        "it_IT",
        "nl_NL",
        "pl_PL",
        "pt_BR",
        "ru_RU",
        "uk_UA",
        "zh_Hans",
        "ko_KR",
        "id_ID",
        "he_IL",
        "ro",
        "sl",
        "sv",
    }

    def test_translations(self):
        """
        Verifies that all translated messages return the correct translation
        for each supported language. Aggregates all missing and mismatched translations.
        """
        errors = []
        for msg_key, translations in self.MESSAGES.items():
            for lang in self.LANGUAGES:
                with self.subTest(msg_key=msg_key, lang=lang):
                    activate(lang)
                    translated = _(msg_key)
                    expected = translations.get(lang)
                    if expected is None:
                        errors.append(
                            f"Missing translation for '{msg_key}' in {lang} (not found in MESSAGES)"
                        )
                    elif translated != expected:
                        errors.append(
                            f'Translation mismatch for "{msg_key}" in "{lang}": '
                            f'got "{translated}", expected "{expected}"'
                        )
        if errors:
            self.fail("Translation errors found:\n" + "\n".join(errors))

    def test_po_files_have_all_key_messages(self):
        """
        Verifies that all keys in MESSAGES are present in each .po file for every language.
        Fails and reports any missing keys for each language.
        """
        key_messages = set(self.MESSAGES.keys())
        for lang in os.listdir(self.LOCALE_DIR):
            lang_dir = os.path.join(self.LOCALE_DIR, lang)
            po_path = os.path.join(lang_dir, "LC_MESSAGES", "django.po")
            if not os.path.exists(po_path):
                self.fail(
                    f"Missing .po file for language '{lang}' at expected path: {po_path}"
                )
            po = polib.pofile(po_path)
            po_messages = {entry.msgid for entry in po}
            missing_keys = key_messages - po_messages
            extra_keys = po_messages - key_messages

            if missing_keys:
                self.fail(
                    f"The following message keys are missing in the '{lang}' .po file: {sorted(missing_keys)}"
                )
            if extra_keys:
                self.fail(
                    f"The following extra message keys are present in the '{lang}' .po file but not in MESSAGES: {sorted(extra_keys)}"
                )

    def test_locale_directories_match_languages(self):
        """
        Ensures that every language in LANGUAGES has a corresponding locale directory,
        and that there are no extra locale directories not listed in LANGUAGES.
        """
        locale_dirs = set(os.listdir(self.LOCALE_DIR))
        missing = self.LANGUAGES - locale_dirs
        extra = locale_dirs - self.LANGUAGES

        if missing:
            self.fail(f"Missing locale directories for: {sorted(missing)}")
        if extra:
            self.fail(f"Extra locale directories not in LANGUAGES: {sorted(extra)}")

    def test_message_translations_cover_all_languages(self):
        """
        Ensures that every message in MESSAGES has translations for all languages in LANGUAGES,
        and that there are no extra language keys in the translation dicts.
        Aggregates all issues before failing.
        """
        errors = []
        for msg_key, translations in self.MESSAGES.items():
            translation_langs = set(translations.keys())
            missing = self.LANGUAGES - translation_langs
            extra = translation_langs - self.LANGUAGES

            if missing:
                errors.append(
                    f"Message '{msg_key}' is missing translations for: {sorted(missing)}"
                )
            if extra:
                errors.append(
                    f"Message '{msg_key}' has extra translations for: {sorted(extra)}"
                )
        if errors:
            self.fail("Translation coverage errors found:\n" + "\n".join(errors))

    def test_po_file_translations_present(self):
        """
        Checks all .po files in the locale directory for all languages.
        For each language, activates the language and checks that every msgid in the .po file
        has a non-empty translation (msgstr) unless it's English.
        Aggregates all issues before failing.
        """
        errors = []
        for lang in os.listdir(self.LOCALE_DIR):
            if lang not in self.LANGUAGES:
                errors.append(
                    f"Translation test for language '{lang}' is not implemented yet. "
                    f"Please add and complete translation coverage for this language "
                    f"before running this test."
                )
                continue
            lang_dir = os.path.join(self.LOCALE_DIR, lang)
            po_path = os.path.join(lang_dir, "LC_MESSAGES", "django.po")
            if not os.path.exists(po_path):
                errors.append(
                    f"Missing .po file for language '{lang}' at expected path: {po_path}"
                )
                continue
            po = polib.pofile(po_path)
            activate(lang)
            for entry in po:
                if entry.msgid and not entry.obsolete:
                    expected_translation = self.MESSAGES.get(entry.msgid, {}).get(lang)
                    if expected_translation is None:
                        errors.append(
                            f"Missing translation for '{entry.msgid}' in {lang} (not found in MESSAGES)"
                        )
                    elif _(entry.msgid) != expected_translation:
                        errors.append(
                            f"Translation mismatch for '{entry.msgid}' in {lang}: "
                            f"got '{_(entry.msgid)}', expected '{expected_translation}'"
                        )
        if errors:
            self.fail("PO file translation errors found:\n" + "\n".join(errors))
